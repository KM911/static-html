---
title: 前端路由
mathjax: true
cover: http://81.68.91.70/api/cover
date: 2023-03-12 14:17:43
tags:
categories:
---

# 单页面路由

不会刷新页面整个 始终是一个页面 不会出现跳转白屏的问题 

这样体验确实很好  只有局部的资源和数据刷新 (这里很明显就是vue了)

优点:

更加明确的前后端分离



缺点: 首屏加载慢 但是可以优化

1.   路由懒加载
2.   代码压缩
3.   CDN加速
4.   网络传输压缩

不利于SEO 

使用SSR 服务器端渲染 类似于react



## vue-router

这里我们就不使用原生的方法了 需要监听我们的hash变化 比较麻烦

我们使用已经封装好的 `vue-router`

1.   编写路由

```js	
// router.js
import {createRouter, createWebHashHistory} from 'vue-router'
import Home from "./view/Home"
const routes = [ //  
    { 
        path="/", // 会根据我们的hash变化 切换组件
        component : Home
    }
]
const router = createRouter({
    history: createWebHashHistory(),
    routes
})
export default router
```

挂载路由

```js
// main.js
import router from './router.js'

const  app = createApp(App)
app.use(router)
app.mount('#app')

```





2.   router-link 和 router-view

前者负责修改我们的hash值 后者负责根据我们的hash进行切换组件

问题来了 如果是子元素 是否可以修改我们的 hash呢?  很高兴 这个是可以的 因为我们的siderbar就是一个子组件 

```vue
<router-link to="/">home</router-link>
<router-link to="/chat">交流 </router-link>
// 这里就会根据我们的路由进行变化
<router-view></router-view>
```

router-link 默认绑定了一个事件  
